# Task 2: API Endpoints

## Description
Create REST API endpoints for core operations of the application.

## Implementation Details
Implement the core API endpoints structure that will serve as the backbone for the application:

1. Create `src/api/mod.rs` to export the API module components
```rust
pub mod routes;
```

2. Create `src/api/routes.rs` with route definitions:
```rust
use actix_web::{web, HttpResponse, Scope};
use crate::schema;

pub fn configure_routes(cfg: &mut web::ServiceConfig) {
    cfg.service(
        web::scope("/api")
            .service(health_check)
            .service(web::scope("/users").configure(user_routes))
            .service(web::scope("/products").configure(product_routes))
    );
}

#[actix_web::get("/health")]
async fn health_check() -> HttpResponse {
    HttpResponse::Ok().json(serde_json::json!({"status": "ok"}))
}

fn user_routes(cfg: &mut web::ServiceConfig) {
    // User routes will be implemented in Task 3
    cfg.service(web::resource("").route(web::get().to(|| HttpResponse::NotImplemented())));
}

fn product_routes(cfg: &mut web::ServiceConfig) {
    // Product routes will be implemented in Task 4
    cfg.service(web::resource("").route(web::get().to(|| HttpResponse::NotImplemented())));
}
```

3. Update `src/main.rs` to set up the API server:
```rust
use actix_web::{App, HttpServer};
mod api;
mod schema;

#[actix_web::main]
async fn main() -> std::io::Result<()> {
    println!("Starting API server");
    
    HttpServer::new(|| {
        App::new()
            .configure(api::routes::configure_routes)
    })
    .bind("127.0.0.1:8080")?
    .run()
    .await
}
```

4. Update `Cargo.toml` to add API dependencies:
```toml
[dependencies]
actix-web = "4.3.1"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
```

## Test Strategy
1. Verify that all required files are created: `src/api/mod.rs`, `src/api/routes.rs`, and updates to `src/main.rs`
2. Compile the code to ensure there are no syntax errors
3. Run the server locally and test the health check endpoint with a tool like curl or Postman
4. Verify that the route structure is set up correctly with placeholders for user and product routes
5. Check that the API dependencies in `Cargo.toml` are correctly specified and can be resolved
